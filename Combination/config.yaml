# config.yaml - Zentrale Konfiguration für BA_combination Unified Version

data:
  portfolios:
    dax:
      name: "DAX"
      universe:
        - RHMG.DE
        - ENR1n.DE
        - TKAG.DE
        - FTKn.DE
        - ACT1.DE
        - DEZG.DE
      indices:
        dax: ".GDAXI"
        sdax: ".SDAXI"
        vdax: ".V1XI"

    sdax:
      name: "SDAX"
      universe:
        - 1U1.DE
        - ADNGk.DE
        - AOFG.DE
        - COKG.DE
        - CWCG.DE
        - DMPG.DE
      indices:
        dax: ".GDAXI"
        sdax: ".SDAXI"
        vdax: ".V1XI"

  # DAX Portfolio bleibt für Rückwärtskompatibilität auf Top-Level
  universe:
    - RHMG.DE
    - ENR1n.DE
    - TKAG.DE
    - FTKn.DE
    - ACT1.DE
    - DEZG.DE

  indices:
    dax: ".GDAXI"    # DAX Index
    sdax: ".SDAXI"   # SDAX Index
    vdax: ".V1XI"    # VDAX (Volatilitätsindex)

  fields:
    - "OPEN_PRC"
    - "HIGH_1"
    - "LOW_1"
    - "TRDPRC_1"
    - "ACVOL_1"

  periods:
    daily:
      interval: "daily"
      start: "2024-01-01"
      end: "2025-11-15"

    intraday:
      interval: "30min"
      start: "2024-01-01"
      end: "2025-11-15"

features:
  # X-Variablen (anpassbar)
  input_features:
    - momentum_5     # 5-Perioden Momentum
    - momentum_10    # 10-Perioden Momentum
    - change_dax     # DAX Änderung
    - change_sdax    # SDAX Änderung
    - vdax_absolute  # VDAX absoluter Wert
    - volume_ratio   # Volume Verhältnis

  # Y-Variable (Ziel)
  target: "price_change_next"

  # Feature Engineering Parameter
  momentum_periods: [5, 10, 20]
  rolling_window: 20

models:
  # Alle Modelle aus Version 1
  pytorch_nn:
    enabled: true
    hidden1: 64
    hidden2: 32
    epochs: 200
    batch_size: 64
    learning_rate: 0.001
    validation_split: 0.2
    patience: 25
    early_stopping_min_delta: 0.0001

  sklearn_nn:
    enabled: true
    hidden_layer_sizes: [64, 32]
    max_iter: 500
    hyperparameter_search: true
    hyperparameter_grid:
      mlp__hidden_layer_sizes:
        - [64, 32]
        - [128, 64]
      mlp__alpha: [0.0001, 0.001]
      mlp__learning_rate_init: [0.0005, 0.001]

  ols:
    enabled: true

  ridge:
    enabled: true
    alpha_values: [0.1, 0.5, 1.0, 2.0, 5.0, 10.0]

  random_forest:
    enabled: true
    n_estimators: 300
    max_depth: 10
    min_samples_split: 5
    min_samples_leaf: 1
    max_features: "sqrt"
    hyperparameter_search: true
    param_grid:
      n_estimators: [200, 400, 600]
      max_depth: [6, 10, 14]
      min_samples_split: [2, 5, 10]
      min_samples_leaf: [1, 2, 4]
      max_features: ["sqrt", "log2", null]

training:
  test_split: 0.2
  cross_validation:
    enabled: true
    n_splits: 5
    type: "TimeSeriesSplit"

  scaling:
    method: "StandardScaler"  # oder "MinMaxScaler"

output:
  save_models: true
  save_predictions: true
  save_comparison: true
  format: "excel"  # und/oder "csv"
